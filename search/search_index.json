{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"acp-amp Documentation","text":"<p>ACP adapter for Amp Code \u2014 Use Amp in any Agent Client Protocol (ACP) compatible client like Zed.</p>"},{"location":"#what-is-acp-amp","title":"What is acp-amp?","text":"<p>acp-amp bridges Amp Code to the Agent Client Protocol (ACP), allowing you to use Amp's powerful AI coding capabilities in any ACP-compatible client.</p> <p>Important: ACP requires a paid Amp credit balance. The free credit version does not work for ACP. Top up a few dollars in Amp to enable ACP access.</p> <p>Available in two versions:</p> Version Install Best For Python <code>pip install acp-amp</code> Python developers, uv/pip users Node.js <code>npm install -g @superagenticai/acp-amp</code> JavaScript developers, npm users <p>Both versions provide identical functionality.</p>"},{"location":"#quick-start","title":"Quick Start","text":"PythonNode.jsZed (No Install) <pre><code>uv tool install acp-amp\nacp-amp run\n</code></pre> <pre><code>npm install -g @superagenticai/acp-amp\nacp-amp\n</code></pre> <p>Add to <code>~/.config/zed/settings.json</code>: <pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"npx\",\n      \"args\": [\"@superagenticai/acp-amp\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"#where-you-can-use-it","title":"Where You Can Use It","text":""},{"location":"#editors","title":"Editors","text":"<ul> <li>Zed \u2014 Modern code editor with native ACP support</li> </ul>"},{"location":"#acp-clients","title":"ACP Clients","text":"<ul> <li>SuperQode \u2014 AI coding agent platform</li> <li>Toad \u2014 Python ACP client</li> <li>fast-agent \u2014 Fast Python ACP client</li> <li>Any client that speaks JSON-RPC over stdio</li> </ul> <p>acp-amp works with any ACP-compatible client. See the official ACP ecosystem list on the Zed ACP page and the ACP Registry announcement.</p> <p>Agents on ACP (from the ecosystem list): - Gemini CLI (ACP Registry) - Claude Code (ACP Registry, via adapter) - Codex (ACP Registry, via adapter) - GitHub Copilot (ACP Registry) - JetBrains Junie (In Progress) - Goose - Kimi CLI - OpenCode (ACP Registry) - Stakpak - VT Code - Auggie CLI (ACP Registry) - Code Assistant - cagent - fast-agent - LLMling-Agent</p>"},{"location":"#features","title":"Features","text":"Feature Description Full Amp capabilities All Amp Code features in your ACP client Multi-turn conversations Thread continuity across interactions Tool execution Permission modes: default or bypass MCP integration Connect to Model Context Protocol servers Image support Send and receive images Session management Multiple concurrent sessions"},{"location":"#documentation","title":"Documentation","text":"<ul> <li> <p>:material-rocket-launch:{ .lg .middle } Getting Started</p> <p>Install and run acp-amp in minutes</p> <p>:octicons-arrow-right-24: Getting Started</p> </li> <li> <p>:material-code-braces:{ .lg .middle } Zed Setup</p> <p>Step-by-step Zed editor configuration</p> <p>:octicons-arrow-right-24: Zed Setup</p> </li> <li> <p>:material-connection:{ .lg .middle } ACP Clients</p> <p>Configure other ACP clients</p> <p>:octicons-arrow-right-24: ACP Clients</p> </li> <li> <p>:material-wrench:{ .lg .middle } Troubleshooting</p> <p>Common issues and solutions</p> <p>:octicons-arrow-right-24: Troubleshooting</p> </li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   ACP Client    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502    acp-amp      \u2502\u2500\u2500\u2500\u2500\u25b6\u2502    Amp Code     \u2502\n\u2502  (Zed, etc.)    \u2502\u25c0\u2500\u2500\u2500\u2500\u2502  (Python/Node)  \u2502\u25c0\u2500\u2500\u2500\u2500\u2502    (Cloud)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502                       \u2502                       \u2502\n        \u2502    JSON-RPC/stdio     \u2502     Amp SDK          \u2502\n        \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n</code></pre>"},{"location":"#credits","title":"Credits","text":"<p>Brought to you by Superagentic AI</p> <p>Built with:</p> <ul> <li>Amp Code by Amp</li> <li>Agent Client Protocol</li> </ul>"},{"location":"acp-clients/","title":"ACP Clients","text":"<p>acp-amp works with any Agent Client Protocol (ACP) compatible client. This guide covers configuration for popular ACP clients.</p>"},{"location":"acp-clients/#how-acp-works","title":"How ACP Works","text":"<p>ACP clients communicate with agents via JSON-RPC over stdin/stdout:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     stdin/stdout      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   ACP Client    \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502    acp-amp      \u2502\n\u2502  (Zed, etc.)    \u2502      JSON-RPC         \u2502  (Python/Node)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Any client that can:</p> <ol> <li>Launch a subprocess</li> <li>Send JSON-RPC over stdin</li> <li>Receive JSON-RPC from stdout</li> </ol> <p>...can use acp-amp.</p>"},{"location":"acp-clients/#superqode","title":"SuperQode","text":"<p>SuperQode is an AI coding agent platform with native ACP support.</p>"},{"location":"acp-clients/#configuration","title":"Configuration","text":"<p>Add to your SuperQode config:</p> Python VersionNode.js Version <pre><code>agents:\n  amp:\n    description: \"Amp Code agent\"\n    protocol: acp\n    command: acp-amp\n    args: [\"run\"]\n</code></pre> <pre><code>agents:\n  amp:\n    description: \"Amp Code agent\"\n    protocol: acp\n    command: npx\n    args: [\"@superagenticai/acp-amp\"]\n</code></pre>"},{"location":"acp-clients/#usage","title":"Usage","text":"<pre><code># Connect to Amp\nsuperqode connect acp amp\n\n# Start a conversation\nsuperqode chat amp \"Explain this codebase\"\n</code></pre>"},{"location":"acp-clients/#toad","title":"Toad","text":"<p>Toad is a Python-based ACP client.</p>"},{"location":"acp-clients/#configuration_1","title":"Configuration","text":"<pre><code>from toad import ACPClient\n\n# Python version\nclient = ACPClient(\n    command=\"acp-amp\",\n    args=[\"run\"]\n)\n\n# Node.js version\nclient = ACPClient(\n    command=\"npx\",\n    args=[\"@superagenticai/acp-amp\"]\n)\n</code></pre>"},{"location":"acp-clients/#usage_1","title":"Usage","text":"<pre><code>async with client:\n    response = await client.prompt(\"Explain this function\")\n    print(response)\n</code></pre>"},{"location":"acp-clients/#fast-agent","title":"fast-agent","text":"<p>fast-agent is a fast Python ACP client.</p>"},{"location":"acp-clients/#configuration_2","title":"Configuration","text":"<pre><code>from fast_agent import Agent\n\n# Create Amp agent\namp = Agent(\n    command=\"acp-amp\",\n    args=[\"run\"],\n    env={\"AMP_API_KEY\": \"your-key\"}  # optional\n)\n</code></pre>"},{"location":"acp-clients/#usage_2","title":"Usage","text":"<pre><code>result = await amp.run(\"Refactor this code\")\n</code></pre>"},{"location":"acp-clients/#generic-acp-client","title":"Generic ACP Client","text":"<p>For any ACP-compatible client, provide these details:</p>"},{"location":"acp-clients/#command","title":"Command","text":"Python VersionNode.js VersionNode.js Global <pre><code>Command: acp-amp\nArguments: run\n</code></pre> <pre><code>Command: npx\nArguments: @superagenticai/acp-amp\n</code></pre> <pre><code>Command: acp-amp\nArguments: (none)\n</code></pre>"},{"location":"acp-clients/#environment-variables","title":"Environment Variables","text":"Variable Description Required <code>AMP_API_KEY</code> Amp API key Only if not using <code>amp login</code>"},{"location":"acp-clients/#protocol-details","title":"Protocol Details","text":"<ul> <li>Transport: stdin/stdout</li> <li>Format: Newline-delimited JSON (NDJSON)</li> <li>Protocol: JSON-RPC 2.0</li> <li>ACP Version: 1</li> </ul>"},{"location":"acp-clients/#building-your-own-client","title":"Building Your Own Client","text":"<p>If you're building an ACP client, here's how to integrate with acp-amp:</p>"},{"location":"acp-clients/#1-spawn-the-process","title":"1. Spawn the Process","text":"<pre><code>import subprocess\n\n# Python version\nprocess = subprocess.Popen(\n    [\"acp-amp\", \"run\"],\n    stdin=subprocess.PIPE,\n    stdout=subprocess.PIPE,\n    stderr=subprocess.PIPE,\n)\n\n# Node.js version\nprocess = subprocess.Popen(\n    [\"npx\", \"@superagenticai/acp-amp\"],\n    stdin=subprocess.PIPE,\n    stdout=subprocess.PIPE,\n    stderr=subprocess.PIPE,\n)\n</code></pre>"},{"location":"acp-clients/#2-initialize","title":"2. Initialize","text":"<p>Send the initialize request:</p> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"initialize\",\n  \"params\": {\n    \"protocolVersion\": 1,\n    \"clientCapabilities\": {}\n  }\n}\n</code></pre>"},{"location":"acp-clients/#3-create-a-session","title":"3. Create a Session","text":"<pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"method\": \"newSession\",\n  \"params\": {\n    \"cwd\": \"/path/to/project\",\n    \"mcpServers\": []\n  }\n}\n</code></pre>"},{"location":"acp-clients/#4-send-a-prompt","title":"4. Send a Prompt","text":"<pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 3,\n  \"method\": \"prompt\",\n  \"params\": {\n    \"sessionId\": \"session-id-from-step-3\",\n    \"prompt\": [\n      {\"type\": \"text\", \"text\": \"Explain this codebase\"}\n    ]\n  }\n}\n</code></pre>"},{"location":"acp-clients/#5-handle-notifications","title":"5. Handle Notifications","text":"<p>The agent sends <code>sessionUpdate</code> notifications with:</p> <ul> <li><code>agent_message_chunk</code> \u2014 Text from the agent</li> <li><code>tool_call</code> \u2014 Tool execution started</li> <li><code>tool_call_update</code> \u2014 Tool execution completed</li> <li><code>agent_thought_chunk</code> \u2014 Agent's thinking process</li> </ul>"},{"location":"acp-clients/#troubleshooting","title":"Troubleshooting","text":""},{"location":"acp-clients/#connection-issues","title":"Connection Issues","text":"<ol> <li>Make sure the command is in your PATH</li> <li>Test the command directly:    <pre><code>acp-amp run\n# or\nnpx @superagenticai/acp-amp\n</code></pre></li> <li>Check stderr for error messages</li> </ol>"},{"location":"acp-clients/#authentication","title":"Authentication","text":"<p>Make sure Amp is authenticated:</p> <pre><code>amp login\n</code></pre> <p>Or provide an API key:</p> <pre><code>AMP_API_KEY=\"your-key\" acp-amp run\n</code></pre>"},{"location":"acp-clients/#protocol-debugging","title":"Protocol Debugging","text":"<p>Enable verbose logging (check your client's documentation) to see the JSON-RPC messages being exchanged.</p>"},{"location":"acp-clients/#resources","title":"Resources","text":"<ul> <li>ACP Specification</li> <li>Amp Documentation</li> <li>acp-amp GitHub</li> </ul>"},{"location":"development/","title":"Development","text":"<p>This guide covers setting up a development environment for contributing to acp-amp.</p>"},{"location":"development/#project-structure","title":"Project Structure","text":"<pre><code>acp-amp/\n\u251c\u2500\u2500 acp_amp/              # Python package\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 cli.py            # Command-line interface\n\u2502   \u251c\u2500\u2500 server.py         # ACP server implementation\n\u2502   \u251c\u2500\u2500 shim.py           # Node shim template\n\u2502   \u251c\u2500\u2500 driver/\n\u2502   \u2502   \u251c\u2500\u2500 base.py       # Driver base class\n\u2502   \u2502   \u251c\u2500\u2500 python_sdk.py # Python SDK driver\n\u2502   \u2502   \u2514\u2500\u2500 node_sdk.py   # Node shim driver\n\u2502   \u2514\u2500\u2500 mapping/\n\u2502       \u251c\u2500\u2500 to_acp.py     # Amp \u2192 ACP conversion\n\u2502       \u2514\u2500\u2500 to_amp.py     # ACP \u2192 Amp conversion\n\u251c\u2500\u2500 node/                 # Node.js package\n\u2502   \u251c\u2500\u2500 package.json\n\u2502   \u2514\u2500\u2500 src/\n\u2502       \u251c\u2500\u2500 index.js      # Entry point\n\u2502       \u251c\u2500\u2500 run-acp.js    # ACP connection\n\u2502       \u251c\u2500\u2500 server.js     # Agent implementation\n\u2502       \u251c\u2500\u2500 to-acp.js     # Event conversion\n\u2502       \u2514\u2500\u2500 utils.js      # Stream utilities\n\u251c\u2500\u2500 node-shim/            # Minimal shim for --driver node\n\u251c\u2500\u2500 tests/                # Python tests\n\u251c\u2500\u2500 docs/                 # Documentation\n\u251c\u2500\u2500 pyproject.toml        # Python package config\n\u2514\u2500\u2500 mkdocs.yml            # Documentation config\n</code></pre>"},{"location":"development/#python-development","title":"Python Development","text":""},{"location":"development/#setup","title":"Setup","text":"<pre><code># Clone the repo\ngit clone https://github.com/SuperagenticAI/acp-amp.git\ncd acp-amp\n\n# Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate  # or .venv\\Scripts\\activate on Windows\n\n# Install in development mode\npip install -e .[test,docs]\n</code></pre>"},{"location":"development/#with-uv","title":"With uv","text":"<pre><code># Clone and setup\ngit clone https://github.com/SuperagenticAI/acp-amp.git\ncd acp-amp\n\n# Install dependencies\nuv sync\n\n# Run commands\nuv run acp-amp --help\nuv run pytest\n</code></pre>"},{"location":"development/#running-tests","title":"Running Tests","text":"<pre><code># All tests\npytest\n\n# With coverage\npytest --cov=acp_amp\n\n# Specific test\npytest tests/test_server.py -v\n\n# With uv\nuv run pytest\n</code></pre>"},{"location":"development/#code-style","title":"Code Style","text":"<pre><code># Format code\nblack acp_amp tests\n\n# Sort imports\nisort acp_amp tests\n\n# Lint\nruff check acp_amp tests\n\n# Type check\nmypy acp_amp\n</code></pre>"},{"location":"development/#building","title":"Building","text":"<pre><code># Build package\npython -m build\n\n# Check package\ntwine check dist/*\n</code></pre>"},{"location":"development/#nodejs-development","title":"Node.js Development","text":""},{"location":"development/#setup_1","title":"Setup","text":"<pre><code>cd node\nnpm install\n</code></pre>"},{"location":"development/#running","title":"Running","text":"<pre><code># Run directly\nnode src/index.js\n\n# Using npm\nnpm start\n</code></pre>"},{"location":"development/#testing","title":"Testing","text":"<pre><code>npm test\n</code></pre>"},{"location":"development/#linting","title":"Linting","text":"<pre><code>npm run lint\n</code></pre>"},{"location":"development/#building-for-npm","title":"Building for npm","text":"<pre><code># Check what will be published\nnpm pack --dry-run\n\n# Publish (requires npm login)\nnpm publish --access public\n</code></pre>"},{"location":"development/#documentation","title":"Documentation","text":""},{"location":"development/#setup_2","title":"Setup","text":"<pre><code>pip install -e .[docs]\n# or\nuv sync\n</code></pre>"},{"location":"development/#local-development","title":"Local Development","text":"<pre><code># Start local server\nmkdocs serve\n\n# Visit http://localhost:8000\n</code></pre>"},{"location":"development/#building_1","title":"Building","text":"<pre><code>mkdocs build\n# Output in site/\n</code></pre>"},{"location":"development/#deploying","title":"Deploying","text":"<p>Documentation is automatically deployed to GitHub Pages on push to main.</p> <p>Manual deploy:</p> <pre><code>mkdocs gh-deploy\n</code></pre>"},{"location":"development/#node-shim-protocol","title":"Node Shim Protocol","text":"<p>The Python adapter communicates with the Node shim via NDJSON over stdin/stdout.</p>"},{"location":"development/#messages","title":"Messages","text":"<p>Start a prompt:</p> <pre><code>{\n  \"type\": \"start\",\n  \"id\": \"request-123\",\n  \"prompt\": \"Explain this code\",\n  \"cwd\": \"/path/to/project\",\n  \"allowAll\": false,\n  \"mcpConfig\": {},\n  \"threadId\": null\n}\n</code></pre> <p>Cancel a prompt:</p> <pre><code>{\n  \"type\": \"cancel\",\n  \"id\": \"request-123\"\n}\n</code></pre>"},{"location":"development/#responses","title":"Responses","text":"<p>Event (streaming):</p> <pre><code>{\n  \"type\": \"event\",\n  \"id\": \"request-123\",\n  \"event\": { ... }\n}\n</code></pre> <p>Done:</p> <pre><code>{\n  \"type\": \"done\",\n  \"id\": \"request-123\",\n  \"stopReason\": \"end_turn\"\n}\n</code></pre> <p>Error:</p> <pre><code>{\n  \"type\": \"error\",\n  \"id\": \"request-123\",\n  \"error\": { \"message\": \"Something went wrong\" }\n}\n</code></pre>"},{"location":"development/#adding-a-new-driver","title":"Adding a New Driver","text":"<p>To add a new driver (e.g., for a different SDK):</p>"},{"location":"development/#1-create-the-driver-file","title":"1. Create the driver file","text":"<pre><code># acp_amp/driver/my_sdk.py\nfrom acp_amp.driver.base import AmpDriver, DriverCapabilities\n\nclass MySdkDriver(AmpDriver):\n    capabilities = DriverCapabilities(\n        supports_images=True,\n        supports_embedded_context=True,\n        supports_mcp_http=True,\n        supports_mcp_sse=True,\n    )\n\n    async def start(self) -&gt; None:\n        # Initialize SDK\n        pass\n\n    async def close(self) -&gt; None:\n        # Cleanup\n        pass\n\n    async def stream_prompt(self, *, prompt, cwd, allow_all, mcp_config, thread_id, request_id):\n        # Yield events\n        yield {\"type\": \"event\", \"id\": request_id, \"event\": {...}}\n        yield {\"type\": \"done\", \"id\": request_id, \"stopReason\": \"end_turn\"}\n\n    async def cancel(self, request_id: str) -&gt; None:\n        # Cancel request\n        pass\n</code></pre>"},{"location":"development/#2-register-in-clipy","title":"2. Register in cli.py","text":"<p>Add the driver to the <code>--driver</code> choices and instantiation logic.</p>"},{"location":"development/#releasing","title":"Releasing","text":""},{"location":"development/#python-pypi","title":"Python (PyPI)","text":"<pre><code># Update version in pyproject.toml\n# Commit and tag\ngit tag v0.1.1\ngit push --tags\n\n# Build and upload\npython -m build\ntwine upload dist/*\n</code></pre>"},{"location":"development/#nodejs-npm","title":"Node.js (npm)","text":"<pre><code>cd node\n\n# Update version in package.json\nnpm version patch  # or minor, major\n\n# Publish\nnpm publish --access public\n</code></pre>"},{"location":"development/#contributing","title":"Contributing","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch: <code>git checkout -b feature/my-feature</code></li> <li>Make your changes</li> <li>Add tests</li> <li>Run tests: <code>pytest</code></li> <li>Commit: <code>git commit -m \"Add my feature\"</code></li> <li>Push: <code>git push origin feature/my-feature</code></li> <li>Open a Pull Request</li> </ol>"},{"location":"development/#guidelines","title":"Guidelines","text":"<ul> <li>Follow existing code style</li> <li>Add tests for new features</li> <li>Update documentation</li> <li>Keep commits focused</li> <li>Write clear commit messages</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide will help you install and run acp-amp. Choose the version that fits your stack.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before installing acp-amp, you need the Amp CLI installed and authenticated:</p> <pre><code># Install Amp CLI\ncurl -fsSL https://ampcode.com/install.sh | bash\n\n# Login to Amp\namp login\n</code></pre>"},{"location":"getting-started/#choose-your-version","title":"Choose Your Version","text":"If you are a... Use Install Python developer Python version <code>uv tool install acp-amp</code> Node.js developer Node.js version <code>npm install -g @superagenticai/acp-amp</code> Just want it to work Node.js with npx No install needed!"},{"location":"getting-started/#python-version","title":"Python Version","text":""},{"location":"getting-started/#who-should-use-this","title":"Who Should Use This","text":"<ul> <li>Python developers</li> <li>Users of uv</li> <li>Integration with Python-based ACP clients</li> </ul>"},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code># Recommended\nuv tool install acp-amp\n\n# Alternative: pip\npip install acp-amp\n</code></pre>"},{"location":"getting-started/#running","title":"Running","text":"<pre><code># Default: uses Python SDK\nacp-amp run\n</code></pre>"},{"location":"getting-started/#driver-options","title":"Driver Options","text":"<p>The Python version supports multiple drivers:</p> Driver Command Description <code>python</code> <code>acp-amp run</code> Native Python SDK (default, best performance) <code>node</code> <code>acp-amp run --driver node</code> Node.js shim (fallback if Python has issues) <code>auto</code> <code>acp-amp run --driver auto</code> Tries Python first, falls back to Node"},{"location":"getting-started/#setting-up-node-shim-optional-fallback","title":"Setting Up Node Shim (Optional Fallback)","text":"<p>Only needed if you want to use <code>--driver node</code>:</p> <pre><code># Step 1: Create shim files\nacp-amp setup\n\n# Step 2: Install shim dependencies\ncd ~/.acp-amp/shim\nnpm install\n</code></pre>"},{"location":"getting-started/#verify-installation","title":"Verify Installation","text":"<pre><code># Check version\nacp-amp --help\n\n# Test run (will wait for input, Ctrl+C to exit)\nacp-amp run\n</code></pre>"},{"location":"getting-started/#nodejs-version","title":"Node.js Version","text":""},{"location":"getting-started/#who-should-use-this_1","title":"Who Should Use This","text":"<ul> <li>JavaScript/TypeScript developers</li> <li>npm-based workflows</li> <li>Users who want the simplest setup</li> </ul>"},{"location":"getting-started/#installation_1","title":"Installation","text":"Global InstallNo Install (npx) <pre><code>npm install -g @superagenticai/acp-amp\n</code></pre> <p>No installation needed! Just run: <pre><code>npx @superagenticai/acp-amp\n</code></pre></p>"},{"location":"getting-started/#running_1","title":"Running","text":"<pre><code># If installed globally\nacp-amp\n\n# Using npx (downloads automatically)\nnpx @superagenticai/acp-amp\n</code></pre>"},{"location":"getting-started/#verify-installation_1","title":"Verify Installation","text":"<pre><code># Check it runs (will wait for input, Ctrl+C to exit)\nnpx @superagenticai/acp-amp\n</code></pre>"},{"location":"getting-started/#environment-variables","title":"Environment Variables","text":"Variable Description Required <code>AMP_API_KEY</code> Your Amp API key Only if not using <code>amp login</code> <code>ACP_AMP_DRIVER</code> Default driver (<code>python</code>, <code>node</code>, <code>auto</code>) No (Python version only) <code>ACP_AMP_SHIM</code> Custom path to Node shim No"},{"location":"getting-started/#using-api-key","title":"Using API Key","text":"<p>If you prefer using an API key instead of <code>amp login</code>:</p> <pre><code>export AMP_API_KEY=\"your-api-key-here\"\nacp-amp run\n</code></pre> <p>Or pass it directly:</p> <pre><code>AMP_API_KEY=\"your-api-key\" acp-amp run\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<p>Now that acp-amp is installed:</p> <ol> <li>Set up Zed \u2014 Configure Zed editor to use Amp</li> <li>Configure other ACP clients \u2014 SuperQode, Toad, fast-agent</li> <li>Troubleshooting \u2014 If something doesn't work</li> </ol>"},{"location":"getting-started/#quick-reference","title":"Quick Reference","text":""},{"location":"getting-started/#python-commands","title":"Python Commands","text":"<pre><code># Install\npip install acp-amp\n\n# Run with Python SDK (default)\nacp-amp run\n\n# Run with Node shim fallback\nacp-amp run --driver node\n\n# Setup Node shim\nacp-amp setup\n</code></pre>"},{"location":"getting-started/#nodejs-commands","title":"Node.js Commands","text":"<pre><code># Install globally\nnpm install -g @superagenticai/acp-amp\n\n# Run\nacp-amp\n\n# Run without installing\nnpx @superagenticai/acp-amp\n</code></pre>"},{"location":"superqode/","title":"SuperQode Setup","text":"<p>SuperQode is an AI coding agent platform with native ACP support. This guide shows how to use Amp with SuperQode.</p>"},{"location":"superqode/#prerequisites","title":"Prerequisites","text":"<ol> <li>SuperQode installed</li> <li>Amp CLI authenticated:    <pre><code>curl -fsSL https://ampcode.com/install.sh | bash\namp login\n</code></pre></li> </ol>"},{"location":"superqode/#quick-setup","title":"Quick Setup","text":""},{"location":"superqode/#python-version","title":"Python Version","text":"<pre><code>pip install acp-amp\n</code></pre> <p>Add to your SuperQode config:</p> <pre><code>agents:\n  amp:\n    description: \"Amp Code agent\"\n    protocol: acp\n    command: acp-amp\n    args: [\"run\"]\n</code></pre>"},{"location":"superqode/#nodejs-version","title":"Node.js Version","text":"<pre><code>agents:\n  amp:\n    description: \"Amp Code agent\"\n    protocol: acp\n    command: npx\n    args: [\"@superagenticai/acp-amp\"]\n</code></pre> <p>Or with global install:</p> <pre><code>npm install -g @superagenticai/acp-amp\n</code></pre> <pre><code>agents:\n  amp:\n    description: \"Amp Code agent\"\n    protocol: acp\n    command: acp-amp\n</code></pre>"},{"location":"superqode/#usage","title":"Usage","text":""},{"location":"superqode/#connect-to-amp","title":"Connect to Amp","text":"<pre><code>superqode connect acp amp\n</code></pre>"},{"location":"superqode/#chat-with-amp","title":"Chat with Amp","text":"<pre><code>superqode chat amp \"Explain this codebase\"\n</code></pre>"},{"location":"superqode/#run-a-task","title":"Run a task","text":"<pre><code>superqode run amp \"Refactor the authentication module\"\n</code></pre>"},{"location":"superqode/#configuration-options","title":"Configuration Options","text":""},{"location":"superqode/#with-api-key","title":"With API Key","text":"<pre><code>agents:\n  amp:\n    description: \"Amp Code agent\"\n    protocol: acp\n    command: acp-amp\n    args: [\"run\"]\n    env:\n      AMP_API_KEY: \"your-api-key\"\n</code></pre>"},{"location":"superqode/#with-working-directory","title":"With Working Directory","text":"<pre><code>agents:\n  amp:\n    description: \"Amp Code agent\"\n    protocol: acp\n    command: acp-amp\n    args: [\"run\"]\n    cwd: \"/path/to/project\"\n</code></pre>"},{"location":"superqode/#python-driver-options","title":"Python Driver Options","text":"<pre><code>agents:\n  amp-python:\n    description: \"Amp with Python SDK\"\n    protocol: acp\n    command: acp-amp\n    args: [\"run\", \"--driver\", \"python\"]\n\n  amp-node:\n    description: \"Amp with Node shim\"\n    protocol: acp\n    command: acp-amp\n    args: [\"run\", \"--driver\", \"node\"]\n</code></pre>"},{"location":"superqode/#troubleshooting","title":"Troubleshooting","text":""},{"location":"superqode/#agent-not-found","title":"\"Agent not found\"","text":"<p>Make sure the agent is defined in your SuperQode config file.</p>"},{"location":"superqode/#connection-failed","title":"\"Connection failed\"","text":"<p>Test the command manually:</p> <pre><code>acp-amp run\n# or\nnpx @superagenticai/acp-amp\n</code></pre>"},{"location":"superqode/#authentication-error","title":"\"Authentication error\"","text":"<p>Login to Amp:</p> <pre><code>amp login\n</code></pre>"},{"location":"superqode/#more-information","title":"More Information","text":"<ul> <li>SuperQode Documentation</li> <li>ACP Clients Guide</li> <li>Troubleshooting</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and solutions for acp-amp.</p>"},{"location":"troubleshooting/#installation-issues","title":"Installation Issues","text":""},{"location":"troubleshooting/#pip-command-not-found","title":"\"pip: command not found\"","text":"<p>Install Python first:</p> <pre><code># macOS\nbrew install python\n\n# Ubuntu/Debian\nsudo apt install python3 python3-pip\n\n# Or use uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\nuv tool install acp-amp\n</code></pre>"},{"location":"troubleshooting/#npm-command-not-found","title":"\"npm: command not found\"","text":"<p>Install Node.js first:</p> <pre><code># macOS\nbrew install node\n\n# Ubuntu/Debian\ncurl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -\nsudo apt-get install -y nodejs\n</code></pre>"},{"location":"troubleshooting/#acp-amp-command-not-found-after-pip-install","title":"\"acp-amp: command not found\" (after pip install)","text":"<p>The install location might not be in your PATH:</p> <pre><code># Find where it was installed\npython -m site --user-base\n# Usually: ~/.local/bin/acp-amp\n\n# Add to PATH (add to ~/.bashrc or ~/.zshrc)\nexport PATH=\"$HOME/.local/bin:$PATH\"\n\n# Or use the full path\n~/.local/bin/acp-amp run\n</code></pre>"},{"location":"troubleshooting/#permission-denied-during-install","title":"\"Permission denied\" during install","text":"<p>Don't use sudo with pip. Instead:</p> <pre><code># Use --user flag\npip install --user acp-amp\n\n# Or use pipx/uv\npipx install acp-amp\nuv tool install acp-amp\n</code></pre>"},{"location":"troubleshooting/#amp-cli-issues","title":"Amp CLI Issues","text":""},{"location":"troubleshooting/#amp-command-not-found","title":"\"amp: command not found\"","text":"<p>Install the Amp CLI:</p> <pre><code>curl -fsSL https://ampcode.com/install.sh | bash\n</code></pre> <p>If still not found, check npm global bin path:</p> <pre><code>npm bin -g\n# Add this to your PATH\n</code></pre>"},{"location":"troubleshooting/#not-authenticated-or-api-key-required","title":"\"Not authenticated\" or \"API key required\"","text":"<p>Login to Amp:</p> <pre><code>amp login\n</code></pre> <p>Or provide an API key:</p> <pre><code>export AMP_API_KEY=\"your-api-key\"\nacp-amp run\n</code></pre>"},{"location":"troubleshooting/#invalid-api-key","title":"\"Invalid API key\"","text":"<ol> <li>Check your API key is correct</li> <li>Try logging in again: <code>amp login</code></li> <li>Get a new key from Amp settings</li> </ol>"},{"location":"troubleshooting/#python-sdk-issues","title":"Python SDK Issues","text":""},{"location":"troubleshooting/#systemmessage-object-has-no-attribute-get","title":"\"'SystemMessage' object has no attribute 'get'\"","text":"<p>This was a bug in older versions. Update to latest:</p> <pre><code>pip install --upgrade acp-amp\n</code></pre> <p>If it persists, use the Node shim fallback:</p> <pre><code>acp-amp run --driver node\n</code></pre>"},{"location":"troubleshooting/#amp-sdk-is-not-installed","title":"\"amp-sdk is not installed\"","text":"<p>The Python SDK should install automatically. If not:</p> <pre><code>pip install amp-sdk\n</code></pre>"},{"location":"troubleshooting/#no-module-named-acp_amp","title":"\"No module named 'acp_amp'\"","text":"<p>Reinstall the package:</p> <pre><code>pip uninstall acp-amp\npip install acp-amp\n</code></pre>"},{"location":"troubleshooting/#python-version-too-old","title":"Python version too old","text":"<p>acp-amp requires Python 3.10+:</p> <pre><code>python --version\n# If &lt; 3.10, upgrade Python\n</code></pre>"},{"location":"troubleshooting/#node-shim-issues","title":"Node Shim Issues","text":""},{"location":"troubleshooting/#cannot-find-module-errors","title":"\"Cannot find module\" errors","text":"<p>Install the shim dependencies:</p> <pre><code>acp-amp setup\ncd ~/.acp-amp/shim\nnpm install\n</code></pre>"},{"location":"troubleshooting/#nodejs-version-too-old","title":"\"Node.js version too old\"","text":"<p>acp-amp requires Node.js 18+:</p> <pre><code>node --version\n# If &lt; 18, upgrade Node.js\n</code></pre>"},{"location":"troubleshooting/#shim-not-found","title":"Shim not found","text":"<p>Specify the shim path:</p> <pre><code>ACP_AMP_SHIM=/path/to/shim/index.js acp-amp run --driver node\n</code></pre>"},{"location":"troubleshooting/#zed-issues","title":"Zed Issues","text":""},{"location":"troubleshooting/#agent-doesnt-appear-in-dropdown","title":"Agent doesn't appear in dropdown","text":"<ol> <li>Check your <code>settings.json</code> syntax</li> <li>Make sure there are no trailing commas</li> <li>Restart Zed completely (Cmd+Q / Ctrl+Q)</li> </ol>"},{"location":"troubleshooting/#failed-to-start-agent","title":"\"Failed to start agent\"","text":"<ol> <li>Test the command manually:    <pre><code>acp-amp run\n# or\nnpx @superagenticai/acp-amp\n</code></pre></li> <li>Check Zed's output panel for errors</li> <li>Use full path in settings</li> </ol>"},{"location":"troubleshooting/#agent-starts-but-no-response","title":"Agent starts but no response","text":"<ol> <li>Make sure you're logged into Amp: <code>amp login</code></li> <li>Check if API key is set correctly in env</li> <li>Check Zed's output panel for errors</li> </ol>"},{"location":"troubleshooting/#npx-is-slow-on-first-run","title":"npx is slow on first run","text":"<p>First run downloads the package. For faster startup:</p> <pre><code># Install globally instead\nnpm install -g @superagenticai/acp-amp\n</code></pre> <p>Then update Zed settings to use <code>acp-amp</code> instead of <code>npx</code>.</p>"},{"location":"troubleshooting/#connection-issues","title":"Connection Issues","text":""},{"location":"troubleshooting/#connection-refused-or-timeout","title":"\"Connection refused\" or timeout","text":"<ol> <li>Check internet connection</li> <li>Try <code>amp login</code> to verify authentication</li> <li>Check if Amp service is up</li> </ol>"},{"location":"troubleshooting/#stream-closed-unexpectedly","title":"\"Stream closed unexpectedly\"","text":"<ol> <li>Update to latest version</li> <li>Check stderr output for errors</li> <li>Try the other version (Python \u2194 Node.js)</li> </ol>"},{"location":"troubleshooting/#debugging","title":"Debugging","text":""},{"location":"troubleshooting/#enable-verbose-output","title":"Enable verbose output","text":"<pre><code># See what's happening\nacp-amp run 2&gt;&amp;1 | tee debug.log\n</code></pre>"},{"location":"troubleshooting/#check-stderr","title":"Check stderr","text":"<p>Logs go to stderr, not stdout:</p> <pre><code>acp-amp run 2&gt;error.log\ncat error.log\n</code></pre>"},{"location":"troubleshooting/#test-json-rpc-manually","title":"Test JSON-RPC manually","text":"<pre><code># Start acp-amp\nacp-amp run\n\n# In another terminal, send test message\necho '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":1}}' | nc localhost 3000\n</code></pre>"},{"location":"troubleshooting/#zed-logs","title":"Zed logs","text":"<p>Check Zed's logs:</p> <pre><code># macOS\ntail -f ~/Library/Logs/Zed/Zed.log\n\n# Linux\ntail -f ~/.local/share/zed/logs/Zed.log\n</code></pre>"},{"location":"troubleshooting/#getting-help","title":"Getting Help","text":"<p>If none of these solutions work:</p> <ol> <li> <p>Check GitHub Issues: github.com/SuperagenticAI/acp-amp/issues</p> </li> <li> <p>Open a new issue with:</p> </li> <li>Your OS and version</li> <li>Python/Node.js version</li> <li>acp-amp version (<code>pip show acp-amp</code> or <code>npm list -g @superagenticai/acp-amp</code>)</li> <li>Full error message</li> <li> <p>Steps to reproduce</p> </li> <li> <p>Community support: </p> </li> <li>Amp Discord</li> <li>Zed Discord</li> </ol>"},{"location":"troubleshooting/#version-information","title":"Version Information","text":"<p>Get version info for bug reports:</p> <pre><code># Python version\npip show acp-amp\npython --version\n\n# Node.js version\nnpm list -g @superagenticai/acp-amp\nnode --version\n\n# Amp CLI version\namp --version\n</code></pre>"},{"location":"zed/","title":"Zed Setup","text":"<p>This guide shows you how to use Amp in Zed editor using acp-amp.</p>"},{"location":"zed/#prerequisites","title":"Prerequisites","text":"<ol> <li>Zed installed (download)</li> <li>Amp CLI installed and authenticated:    <pre><code>curl -fsSL https://ampcode.com/install.sh | bash\namp login\n</code></pre></li> </ol>"},{"location":"zed/#quick-setup-recommended","title":"Quick Setup (Recommended)","text":"<p>The fastest way to get Amp running in Zed \u2014 no installation required!</p>"},{"location":"zed/#step-1-open-zed-settings","title":"Step 1: Open Zed Settings","text":"<ul> <li>Press <code>Cmd+,</code> (macOS) or <code>Ctrl+,</code> (Linux/Windows)</li> <li>Or: Menu \u2192 Zed \u2192 Settings</li> </ul>"},{"location":"zed/#step-2-add-agent-configuration","title":"Step 2: Add Agent Configuration","text":"<p>Add this to your <code>settings.json</code>:</p> <pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"npx\",\n      \"args\": [\"@superagenticai/acp-amp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#step-3-use-amp","title":"Step 3: Use Amp","text":"<ol> <li>Open the Agent Panel in Zed</li> <li>Select Amp from the dropdown</li> <li>Type your prompt and press Enter</li> </ol> <p>That's it! \ud83c\udf89</p>"},{"location":"zed/#alternative-configurations","title":"Alternative Configurations","text":""},{"location":"zed/#python-version","title":"Python Version","text":"<p>If you prefer using the Python package:</p> <pre><code>uv tool install acp-amp\n</code></pre> <p>Then configure Zed:</p> <pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"acp-amp\",\n      \"args\": [\"run\"]\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#nodejs-global-install","title":"Node.js Global Install","text":"<p>If you've installed the npm package globally:</p> <pre><code>npm install -g @superagenticai/acp-amp\n</code></pre> <p>Then configure Zed:</p> <pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"acp-amp\"\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#configuration-with-api-key","title":"Configuration with API Key","text":"<p>If you use an API key instead of <code>amp login</code>:</p> <pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"npx\",\n      \"args\": [\"@superagenticai/acp-amp\"],\n      \"env\": {\n        \"AMP_API_KEY\": \"your-api-key-here\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#python-driver-options","title":"Python Driver Options","text":"<p>When using the Python version, you can specify a driver:</p>"},{"location":"zed/#default-python-sdk","title":"Default (Python SDK)","text":"<pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"acp-amp\",\n      \"args\": [\"run\", \"--driver\", \"python\"]\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#node-shim-fallback","title":"Node Shim Fallback","text":"<pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"acp-amp\",\n      \"args\": [\"run\", \"--driver\", \"node\"]\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#auto-detect","title":"Auto-detect","text":"<pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"acp-amp\",\n      \"args\": [\"run\", \"--driver\", \"auto\"]\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#complete-example-configurations","title":"Complete Example Configurations","text":""},{"location":"zed/#minimal-npx","title":"Minimal (npx)","text":"<pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"npx\",\n      \"args\": [\"@superagenticai/acp-amp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#python-with-api-key","title":"Python with API Key","text":"<pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"acp-amp\",\n      \"args\": [\"run\", \"--driver\", \"python\"],\n      \"env\": {\n        \"AMP_API_KEY\": \"amp_xxx...\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#nodejs-with-full-path","title":"Node.js with Full Path","text":"<pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"/opt/homebrew/bin/node\",\n      \"args\": [\"/usr/local/lib/node_modules/@superagenticai/acp-amp/src/index.js\"]\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#troubleshooting","title":"Troubleshooting","text":""},{"location":"zed/#agent-doesnt-appear-in-zed","title":"Agent doesn't appear in Zed","text":"<ol> <li>Check your <code>settings.json</code> syntax (no trailing commas)</li> <li>Restart Zed completely</li> <li>Check Zed's output panel for errors</li> </ol>"},{"location":"zed/#command-not-found","title":"\"command not found\"","text":"<p>Use the full path to the command:</p> <pre><code># Find the path\nwhich acp-amp\n\n# Use it in settings.json\n</code></pre>"},{"location":"zed/#amp-command-not-found","title":"\"amp: command not found\"","text":"<p>Install the Amp CLI:</p> <pre><code>curl -fsSL https://ampcode.com/install.sh | bash\namp login\n</code></pre>"},{"location":"zed/#authentication-errors","title":"Authentication errors","text":"<p>Make sure you're logged in:</p> <pre><code>amp login\n</code></pre> <p>Or provide an API key in your Zed settings.</p>"},{"location":"zed/#npx-is-slow","title":"npx is slow","text":"<p>The first run downloads the package. Subsequent runs are faster.</p> <p>For faster startup, use a global install:</p> <pre><code>npm install -g @superagenticai/acp-amp\n</code></pre> <p>Then change your config:</p> <pre><code>{\n  \"agent_servers\": {\n    \"Amp\": {\n      \"command\": \"acp-amp\"\n    }\n  }\n}\n</code></pre>"},{"location":"zed/#next-steps","title":"Next Steps","text":"<ul> <li>Troubleshooting \u2014 More detailed problem solving</li> <li>ACP Clients \u2014 Use with other ACP clients</li> <li>Development \u2014 Contribute to acp-amp</li> </ul>"}]}